//!вынести повторяющиеся куски кода в функции. Оптимизировать функции, убрать лишнее.
//!проверить измениться ли скорость загрузки страницы если инициализировать слайдер когда высота скролла достигнет слайдера.
function testWebP(e){var o=new Image;o.onload=o.onerror=function(){e(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let reviewSlider=new Swiper(".review-slider",{slidesPerView:"auto",loop:!0,autoHeight:!0,initialSlide:1,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0}}),reviewImageSlider=new Swiper(".review-image-slider",{slidesPerView:"auto",initialSlide:1,centeredSlides:!0,autoHeight:!0,loop:!0});reviewSlider.controller.control=reviewImageSlider,reviewImageSlider.controller.control=reviewSlider;let burgerMenu=document.querySelector(".header__burger"),headerNavbar=document.querySelector(".header__navbar");burgerMenu.addEventListener("click",(function(){burgerMenu.classList.toggle("header__burger--active"),headerTop.classList.add("header__top--bg"),headerNavbar.classList.toggle("header__navbar--active"),document.querySelector("body").classList.toggle("overflow")}));let headerTop=document.querySelector(".header__top"),scrollTopButton=document.querySelector(".scroll-top"),scrollProgressLine=document.querySelector(".scroll-progress-line");window.addEventListener("scroll",(function(){window.scrollY>headerTop.offsetHeight?headerTop.classList.add("header__top--bg"):headerTop.classList.remove("header__top--bg"),scrollProgressLine.style.width=Math.floor(100*window.scrollY/(document.body.scrollHeight-document.body.clientHeight))+"%",window.scrollY>500?scrollTopButton.classList.add("scroll-top--active"):scrollTopButton.classList.remove("scroll-top--active")})),window.addEventListener("load",(function(){window.scrollY>headerTop.offsetHeight?headerTop.classList.add("header__top--bg"):headerTop.classList.remove("header__top--bg"),scrollProgressLine.style.width=Math.floor(100*window.scrollY/(document.body.scrollHeight-document.body.clientHeight))+"%",window.scrollY>500?scrollTopButton.classList.add("scroll-top--active"):scrollTopButton.classList.remove("scroll-top--active")})),scrollTopButton.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));let navbarLinks=document.querySelectorAll(".navbar__link");for(let e of navbarLinks)e.addEventListener("click",(function(e){e.preventDefault(),burgerMenu.classList.toggle("header__burger--active"),headerNavbar.classList.toggle("header__navbar--active"),console.log(this.href);let o=this.href,r=o.indexOf("#"),t=o.substr(r+1),l=document.querySelector("#"+t).offsetTop;console.log("offsetTop",l),console.log(t),document.querySelector("body").classList.remove("overflow"),window.scrollTo({top:l-50,behavior:"smooth"})}));let logo=document.querySelector(".header__logo");function getProgressValue(e){return e.hasAttribute("data-percent")?parseInt(e.dataset.percent):0}function setCircleProgress(e){const o=parseInt(getComputedStyle(e[0]).getPropertyValue("stroke-dasharray"));let r,t;e.forEach((function(e){t=getProgressValue(e),console.log(t),r=o*(100-t)/100,e.style.strokeDashoffset=r}))}logo.addEventListener("click",(function(e){e.preventDefault()}));let circleDiagrams=document.querySelectorAll(".circle-diagram__outer");function setLinearProgress(e){e.forEach(e=>e.style.width=getProgressValue(e)+"%")}setCircleProgress(circleDiagrams);let linearDiagrams=document.querySelectorAll(".services__skills-progress-line");setLinearProgress(linearDiagrams);